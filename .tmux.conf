#
# TMUX CONFIG
#
# OPTION FLAGS:
# -g GLOBAL
# -a APPEND TO CURRENT SETTING
# -u UNSET
# -w WINDOW, equivalent to set-option-window
# -s SERVER
# -o prevents setting an option that is already set 
# -q suppresses errors about unknown or ambiguous options.
#
# Colors :
# black, red, green, 
# yellow, blue, magenta, 
# cyan, white,
# if supported: brightred, brightgreen, and so on
 
# ALIASES:
# set == set-option
# multiple flags can be specified at the same time eg "-ag"

set -g xterm-keys on # Make shift+arrows, ctrl+arrows etc work in Vim.

# defaults
set -q -g status-utf8 on # expect UTF-8 (tmux < 2.2)
setw -q -g utf8 on
set -g default-terminal "screen-256color"
set -g history-limit 10000
set -g status-interval 5 # set refresh interval on statusline

set -g mouse off

set-option -g bell-action none

# vim compatibility
set -sg escape-time 0 # tmux nowait for <ESC>
set -g focus-events on
set -g status-keys emacs
#set -g set-option copy-mode vi
setw -g mode-keys vi  # allows you to use jk when choosing sessions \C-b s and in copy mode

# set-option -g default-shell /usr/bin/zsh

#set-option status-style bg=black

#set-window-option -g automatic-rename
set-option -g allow-rename off
set-window-option -g automatic-rename off

set-window-option -g monitor-activity off

set-option -g base-index 1
setw -g pane-base-index 1
set -g base-index 1

# If on, when a window is closed in a session, automatically renumber the other windows in numerical order.  
# This respects the base-index option if it has been set.  If off, do not renumber the windows.
set -g renumber-windows on 

set -g set-titles on

# loud or quiet?
set-option -g visual-activity off
set-option -g visual-bell off
set-option -g bell-action none
#set-option -g visual-silence off

# Rather than constraining window size to the maximum size of any client
# connected to the *session*, constrain window size to the maximum size of any
# client connected to *that window*. Much more reasonable.
setw -g aggressive-resize on

# color scheme (styled as vim-powerline)
set -g status-bg colour234 #darkgrey-ish
set -g status-fg white
set -g status-left-length 52
set -g status-right-length 450

# panes
set -g pane-border-fg black
set -g pane-active-border-fg brightred
set-option -g display-panes-active-colour colour33 #blue
set-option -g display-panes-colour colour166 #orange

# message text
set -g display-time 4000
set-option -g message-bg colour234 #darkgrey-ish
set-option -g message-fg colour166 #orange
set -g message-attr bold

bind R source-file ~/.tmux.conf \; display-message "Config reloaded..."
 
# bind-key 0 run "tmux split-window -l 12 'bash -ci ftpane'" # fzf pane switching

# Colors :
# black, red, green, 
# yellow, blue, magenta, 
# cyan, white,
# if supported: brightred, brightgreen, and so on

#window mode
setw -g mode-bg colour6
setw -g mode-fg colour0
set -g window-status-format '#[fg=brightgreen,bold,bg=black] #{pane_current_command} #[fg=white]# #[fg=red]#I #[fg=blue#{?window_activity_flag,active,inactive}'
set -g window-status-current-format ' #[fg=colour235,bg=brightgreen,noreverse,bold]#{?window_zoomed_flag,#[fg=colour226],} # #I '

# clock
set -g clock-mode-colour brightgreen
set -g clock-mode-style 24

set -g status-left  '#{prefix_highlight} #[fg=colour230,bg=colour25,bold] S#S #[fg=colour252,bg=colour238,nobold]'
set -g status-left-length 70
set -g status-right ' #{pane_current_path} | #[fg=brightgreen]#(date | sed -E "s/\s[A-Z]{3,}\s[0-9]{4}//g" | perl -pe "s/:\d{2}$//") #[fg=white]| #{download_speed} | BAT #[fg=brightgreen,bold]#(upower -d | grep percentage | head -n 1 | sed -E "s/\s{2,}/ /g" | sed -E "s/percentage:\s//" | sed -E "s/^\s//")#(upower -d | grep state | head -n 1 | perl -pe "s/\s{2,}/ /g" | perl -pe "s/state:\s//g") ' 


# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-copycat'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-sessionist'
set -g @plugin 'tmux-plugins/tmux-net-speed'
set -g @net_speed_format "%10s%10s"
set -g @download_speed_format "%10s"
set -g @upload_speed_format "%10s"
run '~/.tmux/plugins/tpm/tpm' # at the end ! 

#KEY BINDINGS

     #tmux may be controlled from an attached client by using a key combination of a prefix key, ‘C-b’ (Ctrl-b) by default, followed by a command key.

     #The default command key bindings are:

           #C-b         Send the prefix key (C-b) through to the application.
           #C-o         Rotate the panes in the current window forwards.
           #C-z         Suspend the tmux client.
           #!           Break the current pane out of the window.
           #"           Split the current pane into two, top and bottom.
           ##           List all paste buffers.
           #$           Rename the current session.
           #%           Split the current pane into two, left and right.
           #&           Kill the current window.
           #'           Prompt for a window index to select.
           #(           Switch the attached client to the previous session.
           #)           Switch the attached client to the next session.
           #,           Rename the current window.
           #-           Delete the most recently copied buffer of text.
           #.           Prompt for an index to move the current window.
           #0 to 9      Select windows 0 to 9.
           #:           Enter the tmux command prompt.
           #;           Move to the previously active pane.
           #=           Choose which buffer to paste interactively from a list.
           #?           List all key bindings.
           #D           Choose a client to detach.
           #L           Switch the attached client back to the last session.
           #[           Enter copy mode to copy text or view the history.
           #]           Paste the most recently copied buffer of text.
           #c           Create a new window.
           #d           Detach the current client.
           #f           Prompt to search for text in open windows.
           #i           Display some information about the current window.
           #l           Move to the previously selected window.
           #n           Change to the next window.
           #o           Select the next pane in the current window.
           #p           Change to the previous window.
           #q           Briefly display pane indexes.
           #r           Force redraw of the attached client.
           #m           Mark the current pane (see select-pane -m).
           #M           Clear the marked pane.
           #s           Select a new session for the attached client interactively.
           #t           Show the time.
           #w           Choose the current window interactively.
           #x           Kill the current pane.
           #z           Toggle zoom state of the current pane.
           #{           Swap the current pane with the previous pane.
           #}           Swap the current pane with the next pane.
           #~           Show previous messages from tmux, if any.
           #Page Up     Enter copy mode and scroll one page up.
           #Up, Down
           #Left, Right
                       #Change to the pane above, below, to the left, or to the right of the current pane.
           #M-1 to M-5  Arrange panes in one of the five preset layouts: even-horizontal, even-vertical, main-horizontal, main-vertical, or tiled.
           #Space       Arrange the current window in the next preset layout.
           #M-n         Move to the next window with a bell or activity marker.
           #M-o         Rotate the panes in the current window backwards.
           #M-p         Move to the previous window with a bell or activity marker.
           #C-Up, C-Down
           #C-Left, C-Right
                       #Resize the current pane in steps of one cell.
           #M-Up, M-Down
           #M-Left, M-Right
                       #Resize the current pane in steps of five cells.

     #Key bindings may be changed with the bind-key and unbind-key commands.

# vim:tw=78:ts=8:ft=conf:norl:

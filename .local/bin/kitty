#!/usr/bin/env bash

# Startup script for kitty(1) that changes colorschme depending on time of date
hour=$(builtin command bash -c "builtin printf '%(%H)T'")

if [[ $hour =~ ^0 ]]; then
  hour=${hour:1}
fi

if [[ $hour -lt 6 ]] || [[ $hour -ge 17 ]]; then
  colors=dark
elif [[ $hour -lt 17 ]]; then
  colors=light
fi

if [[ -x "$(builtin command readlink -f /usr/bin/kitty)" ]] && [[ -f ~/.config/kitty/kitty-${colors}.conf ]] ; then
	builtin command "$(builtin command readlink -f /usr/bin/kitty)" --config ~/.config/kitty/kitty-${colors}.conf
fi
